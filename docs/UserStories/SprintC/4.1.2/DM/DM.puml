@startuml US_4.1.2_Domain_Model

!define AGGREGATE_ROOT_COLOR #FFDDAA
!define VALUE_OBJECT_COLOR #E8F5E9

class OperationPlan <<Aggregate Root>> AGGREGATE_ROOT_COLOR {
    - OperationPlanId id
    - DateTime planDate
    - AlgorithmUsed algorithmUsed
    - List<PlannedOperation> operations
    - PlanStatus status
    - DateTime createdAt
    - UserId createdBy
    + GeneratePlan(date, algorithm, vvnList)
    + SavePlan()
}

class OperationPlanId <<Value Object>> VALUE_OBJECT_COLOR {
    - string value
    + OperationPlanId(value)
}

class AlgorithmUsed <<Value Object>> VALUE_OBJECT_COLOR {
    - string value
    + AlgorithmUsed(value)
}

class PlannedOperation <<Value Object>> VALUE_OBJECT_COLOR {
    - VvnId vvnId
    - OperationType type
    - DateTime startTime
    - DateTime endTime
    - List<ResourceId> resources
}

class PlanStatus <<Value Object>> VALUE_OBJECT_COLOR {
    - string value
    + PlanStatus(value)
}

class UserId <<Value Object>> VALUE_OBJECT_COLOR {
    - string value
    + UserId(value)
}

OperationPlan "1" *-- "1" OperationPlanId : id
OperationPlan "1" *-- "1" AlgorithmUsed : algorithmUsed
OperationPlan "1" *-- "*" PlannedOperation : operations
OperationPlan "1" *-- "1" PlanStatus : status
OperationPlan "1" --> "1" UserId : createdBy

note right of OperationPlan
  Generated by scheduling algorithms
  Contains all operations for a specific date
end note

@enduml
