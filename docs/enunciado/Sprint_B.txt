SPRINT B OVERVIEW
Sprint B focuses on extending the prototype into a modular, integrated, and operationally viable system. 
Work is structured around seven key areas: 
(i) developing a unified Front-end Application (SPA); 
(ii) enforcing secure Authentication and Authorization across both front-end and back-end components; 
(iii) introducing a 3D Visualization module synchronized with live system data; 
(iv) initiating the Scheduling and Planning engine to support operational decision-making; 
(v) exploiting some Systems Administration best practices and establishing some Business Continuity (BC) foundations; 
(vi) reinforcing GDPR awareness and data protection responsibility; 
(vii) extending the Project Client Analysis with deeper insights into managerial, operational, and sustainability practices.

Together, these efforts aim to deliver not only functional capabilities, but also security, resilience, compliance, and contextual understanding of the target business environment.

================================================================================
3.1. FRONT-END APPLICATION
================================================================================

The front-end must be developed as a Single Page Application (SPA), providing a unified interface for all user roles. It must dynamically adapt navigation and available features based on each user's internal authorization, while consuming the REST APIs provided by the back-end module(s) in accordance with the (general) system architecture.

US 3.1.1 - Set Up SPA Framework
As a Project Manager, I want the team to set up the SPA using a modern framework, so that future features can be developed in a maintainable way.

Acceptance Criteria / Comments:
• SPA must be built using a framework such as Angular, React or Vue.
• A modular folder structure (e.g., components, services, pages, routing) is required.
• The SPA must adopt a well-founded HTTP client (e.g., Axios/Fetch) for REST API consumption.

--------------------------------------------------------------------------------

US 3.1.2 - Unified Layout
As a System User, I want the SPA to provide a unified layout, so that navigation is consistent across the application.

Acceptance Criteria / Comments:
• The application layout must include at minimum:
  o A header bar containing the system/company logo and name.
  o A designated area for primary navigation (e.g., top menu, side menu, or equivalent).
  o These two elements must always be visible, in any circumstance.
• The layout may optionally include:
  o Secondary navigation elements, such as submenus or breadcrumbs.
  o A sidebar, footer, or other auxiliary interface sections to enhance usability.
• Menu options must be rendered dynamically based on the logged-authenticated user's role.
• UI styling must follow a consistent design system/component library.
• It must have multilingual support (e.g.: English and Portuguese).
• The layout must adapt to different screen sizes (desktop orientation first; tablet/mobile support may be planned).

--------------------------------------------------------------------------------

US 3.1.3 - Role-Based Menu Visibility
As a System User with a specific role, I want the SPA to show only the menus relevant to my permissions, so that the interface remains clear and I can only access allowed features.

Acceptance Criteria / Comments:
• Menu options must be rendered dynamically based on the logged-authenticated user's role.
• Navigation to unauthorized sections must be prevented (even if manually typed in the URL).

--------------------------------------------------------------------------------

US 3.1.4 - User Feedback on Actions
As a System User, I want to receive clear feedback when actions succeed or fail in the SPA, so that I understand what happened and can react accordingly.

Acceptance Criteria / Comments:
• Success messages must be shown after completing actions like save, update, or deactivate.
• Validation errors must be shown near the affected input fields.
• Loading indicators must be used during asynchronous operations.
• Errors (e.g. due API calls) must be captured and displayed in a user-friendly format.

--------------------------------------------------------------------------------

US 3.1.5 - Pages/Forms for User Actions
As a System User, I want the SPA to provide suitable pages/forms to perform the actions I am authorized to, so that I can interact with the system through a graphical interface.

Acceptance Criteria / Comments:
• Forms must validate required fields before submission.
• Navigation to these pages must follow the role-based menu rules.
• Data must be fetched from and persisted to the corresponding REST API.
• List views must support filtering and searching as defined in Sprint A.
• Priority should be given to the following (from highest to lowest) functions:
  o US 2.2.7/8/9/10, related to Vessel Visit Notifications
  o US 2.2.4, related with Storage Areas
  o US 2.2.12, related with Physical Resources
  o US 2.2.3, related with Docks
  o US 2.2.2, related with Vessels
  o US 2.2.5, related with Shipping Agent Organizations and Representatives

================================================================================
3.2. AUTHENTICATION & AUTHORIZATION
================================================================================

US 3.2.1 - External IAM Authentication
As a (Non-Authenticated) System User, I want to authenticate using the external IAM provider, so that I can securely access the system without managing separate credentials.

Acceptance Criteria / Comments:
• The SPA must integrate with the selected IAM (e.g., via OAuth2/OpenID Connect).
• Unauthenticated users must be redirected to the IAM login page.
• The system must not handle the password storage.
• After successful authentication, a valid access token must be available to the front-end.
• Logout must also be supported, clearing tokens/session data.

--------------------------------------------------------------------------------

US 3.2.2 - Load Internal Authorization Role
As a System User, I want the system to automatically load my internal authorization role after authentication, so that I gain access only to my permitted features.

Acceptance Criteria / Comments:
• After IAM login, the SPA must call a backend endpoint to retrieve the user's assigned role and render the respective menu options.
• If the user has no assigned role or it is inactive, access must be denied with an appropriate message.

--------------------------------------------------------------------------------

US 3.2.3 - Maintain Secure Session
As a System User, I want my authenticated session to be maintained securely, so that I don't need to re-login frequently while using the SPA.

Acceptance Criteria / Comments:
• Access tokens must be securely stored.
• Token expiration must be handled (e.g., silent refresh or forced re-login when invalid).
• The SPA must try to avoid unauthorized API calls by, for instance, attaching the user access token to requests.
• Back-end module(s) must also validate tokens on each request.

--------------------------------------------------------------------------------

US 3.2.4 - Role-Based Access Control
As a System User, I want the system to restrict access to actions and features based on my role, so that I cannot perform unauthorized operations.

Acceptance Criteria / Comments:
• On the back-end side:
  o Each REST API route must enforce role-based access control (RBAC) and/or attribute-based access control (ABAC) as needed to enforce the applicable business rules.
  o Unauthorized requests must return proper HTTP status codes (e.g., 403 Forbidden).
  o Logs must record unauthorized attempts.
• On the front-end side:
  o Front-end routes must check for the user's authorization before rendering pages.
  o Direct URL access to unauthorized pages must be prevented.
  o A default "Access Denied" or "Not Authorized" page must be shown when needed.

--------------------------------------------------------------------------------

US 3.2.5 - Assign Internal Roles
As an Administrator, I want to assign (or update) the internal role(s) of a given user, so that they can access only the features appropriate to their responsibilities.

Acceptance Criteria / Comments:
• Users are identified by IAM-provided attributes (userId, email, name).
• When authorizing a user for the first time:
  o A unique activation link is sent to their email.
  o By default, the users are set to a "deactivated" status.
• Internal roles determine system access level.

--------------------------------------------------------------------------------

US 3.2.6 - User Activation via Link
As a System User receiving an activation link, I want to complete my first access securely through authentication, so that I can start using the system.

Acceptance Criteria / Comments:
• The activation link redirects the user to authenticate via IAM.
• Once authenticated, the system must confirm that the authenticated user data matches the user identity related to the link being used:
  o In case of success, the system completes the activation process (status update).
  o Otherwise, an error must be presented, preventing system access.
• Expired or invalid links must show an error message.
• After activation, the user gains role-based access.
